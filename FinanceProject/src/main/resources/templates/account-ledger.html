<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Account Ledger</title>
    <style>
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid #ccc;
            padding: 10px;
        }
        .nav-buttons a {
            margin-right: 10px;
        }
        table { 
            border-collapse: collapse; 
            width: 90%; 
            margin-bottom: 20px; 
        }
        table, th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }
    </style>
</head>
<body>
    <header th:replace="fragments/navbar :: navbar"></header>
        <div class="container">
            <h1>Ledger for Account: <span th:text="${account.accountName}"></span></h1>
            <table>
                <thead>
                <tr>
                    <th>Date</th>
                    <th>Description</th>
                    <th>Debit</th>
                    <th>Credit</th>
                    <th>Balance</th>
                    <th>Post Reference</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="entry : ${ledgerEntries}">
                    <td th:text="${entry.date}"></td>
                    <td th:text="${entry.description}"></td>
                    <td th:text="${#numbers.formatDecimal(entry.debit, 1, 'COMMA', 2, 'POINT')}"></td>
                    <td th:text="${#numbers.formatDecimal(entry.credit, 1, 'COMMA', 2, 'POINT')}"></td>
                    <td th:text="${#numbers.formatDecimal(entry.balance, 1, 'COMMA', 2, 'POINT')}"></td>
                    <!-- Clicking the post reference navigates to the journal entry detail page -->
                    <td><a th:href="@{'/journal/' + ${entry.journalEntryId}}" th:text="${entry.postReference}"></a></td>
                </tr>
                <tr th:if="${ledgerEntries == null or #lists.isEmpty(ledgerEntries)}">
                    <td colspan="6">No ledger entries available.</td>
                </tr>
                </tbody>
            </table>
            <a th:href="@{/accounts}">Back to Chart of Accounts</a>
        </div>
</body>
</html>
